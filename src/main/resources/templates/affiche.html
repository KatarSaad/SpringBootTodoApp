<html xmlns:th="http://www.thymeleaf.org">
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Liste des produits</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container mt-4">
	<h1>Liste des produits</h1>
	<div class="my-3">
		<a href="/produit/add" class="btn btn-primary">Ajouter un nouveau produit</a>
	</div>
	<div>
	<form action="/produit/find" method="post">
		<input type="text" name="motcle">
		<input type="submit" value="Rechercher">
	</form>
	</div>
	<table class="table table-hover">
		<tr>
			<th>#</th>
			<th>NOM</th>
			<th>PRIX</th>
			<th>QUANTITE</th>
			<th>CATEGORIE</th>
			<th>ACTION</th>
		</tr>

			<tr th:Each ="p : ${listeP}">
				<td th:text="${p.id}"></td>
				<td th:text="${p.nom}"></td>
				<td th:text="${p.prix}"></td>
				<td th:text="${p.quantite}"></td>
				<td th:text="${p.categorie.nom}"></td>
				<td> <form th:method="delete" th:action="@{/produit/delete/{id} (id=${p.id})}">
					<input type="submit" value="Supprimer" class="btn btn-danger" onclick="return confirm ('Voulez vous vraiment supprimer ce produit?')">
				</form>


				<a th:href="@{/produit/update/{id} (id=${p.id})}" class="btn btn-warning">modifier</a>
				</td>
			</tr>

	</table>
</div>
</body>
</html>